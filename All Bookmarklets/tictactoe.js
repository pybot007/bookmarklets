javascript:var turn=.5>Math.random()?0:1,unit=100/11,menu=document.createElement("div");menu.style.position="fixed",menu.style.top="50%",menu.style.left="50%",menu.style.height=9*unit+"vmin",menu.style.width=9*unit+"vmin",menu.style.transform="translate(-50%,-50%)",menu.style.zIndex=9999,menu.innerHTML="<a style='background:white;position:absolute;left:100%;cursor:pointer' onClick='menu.remove()'>exit</a>",document.body.appendChild(menu);var board=document.createElement("div");board.style.background="rgba(255,255,255,0.9)",board.style.position="absolute",board.style.top=0,board.style.left=0,board.style.height=9*unit+"vmin",board.style.width=9*unit+"vmin",board.mark=null,menu.appendChild(board),BOXES=[],boxes=[[],[],[],[],[],[],[],[],[]];for(var i=0;i<3;i++)for(var j=0;j<3;j++){var e=document.createElement("div");e.style.position="absolute",e.style.top=100*i/3+"%",e.style.left=100*j/3+"%",e.style.height=100/3+"%",e.style.width=100/3+"%",e.mark=null;for(var t=0;t<3;t++)for(var r=0;r<3;r++){var a=document.createElement("div");a.setAttribute("onMouseOver","this.style.background='rgba(0,0,0,0.25)'"),a.setAttribute("onMouseOut","this.style.background='transparent'"),a.setAttribute("onClick","pick(this)"),a.style.position="absolute",a.style.top=100*t/3+"%",a.style.left=100*r/3+"%",a.style.height=100/3+"%",a.style.width=100/3+"%",a.macro=3*i+j,a.micro=3*t+r,a.mark=null,boxes[3*i+j].push(a),a.macro%2==0?a.style.boxShadow="0 0 1vmin black inset":a.style.boxShadow="0 0 1vmin gray inset",e.appendChild(a)}BOXES.push(e),board.appendChild(e)}function check(e){var t=0;null!=e[0].mark&&(e[0].mark==e[1].mark&&e[1].mark==e[2].mark||e[0].mark==e[3].mark&&e[3].mark==e[6].mark)&&(t=1),null!=e[4].mark&&(e[3].mark==e[4].mark&&e[4].mark==e[5].mark||e[1].mark==e[4].mark&&e[4].mark==e[7].mark||e[0].mark==e[4].mark&&e[4].mark==e[8].mark||e[2].mark==e[4].mark&&e[4].mark==e[6].mark)&&(t=1),null!=e[8].mark&&(e[6].mark==e[7].mark&&e[7].mark==e[8].mark||e[2].mark==e[5].mark&&e[5].mark==e[8].mark)&&(t=1),t?marker(e[0].parentNode):null!=e[0].mark&&null!=e[1].mark&&null!=e[2].mark&&null!=e[3].mark&&null!=e[4].mark&&null!=e[5].mark&&null!=e[6].mark&&null!=e[7].mark&&null!=e[8].mark&&draw(e[0].parentNode)}function draw(e){e.mark=2,disable(e),e.style.pointerEvents="none"}function marker(e){if(0==turn){var t=document.createElement("div");t.style.boxSizing="border-box",t.style.position="absolute",t.style.top="10%",t.style.left="10%",t.style.height="80%",t.style.width="80%";for(var r=0,a=0;a<9;a++)if(e==BOXES[a]){r=1;break}t.style.border=unit*(e==board?9:r?3:1)/5+"vmin solid black",t.style.borderRadius="50%",e.appendChild(t)}else{var l=document.createElement("div");l.style.boxSizing="border-box",l.style.background="black",l.style.position="absolute",l.style.top="10%",l.style.left="40%",l.style.height="80%",l.style.width="20%",l.style.transform="rotate(45deg)",e.appendChild(l);var n=l.cloneNode();n.style.transform="rotate(-45deg)",e.appendChild(n)}e.mark=turn,disable(e),e.style.pointerEvents="none"}function pick(e){if(marker(e),check(boxes[e.macro]),check(BOXES),turn=turn>0?0:1,null==BOXES[e.micro].mark){for(i=0;i<9;i++)for(var t=0;t<9;t++)disable(boxes[i][t]);for(i=0;i<9;i++)null==board.mark&&enable(boxes[e.micro][i])}else for(i=0;i<9;i++)for(var t=0;t<9;t++)null==board.mark&&enable(boxes[i][t]);disable(e)}function disable(e){e.style.background="rgba(0,0,0,0.25)",e.setAttribute("onMouseOver",""),e.setAttribute("onMouseOut",""),e.setAttribute("onClick","")}function enable(e){null==e.mark&&(e.style.background="transparent"),e.setAttribute("onMouseOver","this.style.background='rgba(0,0,0,0.25)'"),e.setAttribute("onMouseOut","this.style.background='transparent'"),e.setAttribute("onClick","pick(this)")}

