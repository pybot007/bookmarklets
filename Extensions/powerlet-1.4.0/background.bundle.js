(()=>{"use strict";function t(t=1,n=19){const e=document.createElement("canvas").getContext("2d");return e.canvas.width=n*t,e.canvas.height=n*t,e}function n(t,n){return new Promise(((e,a)=>{const c=n.canvas.width,o=n.canvas.height,r=new Image;r.src=t,r.onload=()=>{n.drawImage(r,0,0,c,o);const t=n.getImageData(0,0,c,o);e(t)}}))}const e=function(){let e=null;return async()=>{const a=matchMedia("(prefers-color-scheme: dark)").matches;if(a===e)return;const c=a?"default_icon_dark.png":"default_icon.png",o=a?"default_icon_dark@2x.png":"default_icon@2x.png",r=t(1),s=t(2),i=await n(c,r),d=await n(o,s);chrome.browserAction.setIcon({imageData:{19:i,38:d}}),e=a}}();setInterval(e,1e3),e()})();