{"version":3,"file":"app.4ba91caafa72fac91aa3.hot-update.js","sources":["webpack:///./src/components/Editor.vue?9ee8"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport EditorHelper from \"../util/EditorHelper\"; // import Storage from '../util/Storage'\n\nimport JSParser from \"../util/JavascriptUrlParser\";\nimport Options from \"./Options\";\nimport Button from \"./Button\";\nexport default {\n  name: \"Editor\",\n\n  data() {\n    return {\n      sharedState: this.$root.$data.sharedState\n    };\n  },\n\n  components: {\n    Options,\n    Button\n  },\n\n  mounted() {\n    /**\n     * Watch changes to the currentBookmark and update editor\n     */\n    this.$root.$watch(\"sharedState.currentBookmark\", newVal => {\n      this.editor.setValue(JSParser.decode(newVal.url));\n    }, {\n      deep: true\n    });\n  },\n\n  methods: {\n    init() {\n      // Set worker urls here, before creating an editor\n      // EditorHelper.initWorkerUrls();\n      this.editor = EditorHelper.create(this.$refs.editor); // add overlay widget might not need it.\n\n      this.addSaveBtn();\n    },\n\n    layout() {\n      this.editor.layout();\n    },\n\n    showSuccess() {\n      this.$toasted.show(\"Bookmark Saved!\", {\n        position: \"bottom-right\",\n        duration: \"2000\",\n        type: \"success\",\n        class: \"toast\",\n        action: {\n          text: \"dismiss\",\n          onClick: (e, toastObject) => {\n            toastObject.goAway(0);\n          }\n        },\n        icon: \"✓\"\n      });\n    },\n\n    showError() {\n      this.$toasted.show(\"Please Select a Bookmark\", {\n        position: \"bottom-right\",\n        duration: \"2000\",\n        type: \"error\",\n        class: \"toast\",\n        action: {\n          text: \"dismiss\",\n          onClick: (e, toastObject) => {\n            toastObject.goAway(0);\n          }\n        },\n        icon: \"✓\"\n      });\n    },\n\n    addSaveBtn() {\n      EditorHelper.addBtn(this.editor, {\n        text: \"Save\",\n        id: \"save-btn\",\n        onClick: () => {\n          var script = this.editor.getValue();\n          var encoded = JSParser.encode(script);\n\n          if (!this.sharedState.currentBookmark) {\n            this.showError();\n          } else {\n            chrome.bookmarks.update(this.sharedState.currentBookmark.id, {\n              url: encoded\n            }, () => {\n              this.showSuccess();\n            });\n          }\n        }\n      });\n    }\n\n  }\n};"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}